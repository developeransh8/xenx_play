{% extends "base.html" %}

{% block title %}Upload Video - xenXgon Play{% endblock %}

{% block content %}
<div class="upload-container" data-testid="upload-container">
    <div class="upload-header">
        <h1 class="page-title">Upload Video</h1>
        <p class="page-subtitle">Only H.264 encoded videos are accepted. Max size: 10GB</p>
    </div>
    
    <div class="upload-box" id="uploadBox" data-testid="upload-box">
        <div class="upload-content" id="uploadContent">
            <div class="upload-icon">üìÅ</div>
            <h3>Drag & Drop Video Here</h3>
            <p>or click to browse</p>
            <p class="upload-hint">Supported formats: MP4, MKV, MOV, M4V, TS, M2TS, WebM (H.264 video codec required)</p>
            <input type="file" id="fileInput" accept=".mp4,.mkv,.mov,.m4v,.ts,.m2ts,.webm" style="display: none;" data-testid="file-input">
        </div>
        
        <div class="upload-progress" id="uploadProgress" style="display: none;">
            <div class="progress-info">
                <span id="fileName">Uploading...</span>
                <span id="uploadPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="uploadStatus" class="upload-status"></div>
        </div>
    </div>
    
    <div class="upload-requirements">
        <h3>Requirements</h3>
        <ul>
            <li>‚úì Video codec must be H.264 (AVC)</li>
            <li>‚úì At least one audio track required</li>
            <li>‚úì Minimum resolution: 360p</li>
            <li>‚úì Maximum resolution: 4K (3840x2160)</li>
            <li>‚úì Maximum file size: 10GB</li>
        </ul>
        
        <div class="info-box">
            <strong>Note:</strong> Video will NOT be re-encoded. Only audio tracks will be converted to AAC format for HLS streaming.
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock %}
